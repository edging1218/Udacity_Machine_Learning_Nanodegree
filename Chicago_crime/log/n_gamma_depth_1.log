Read in data...
<class 'pandas.core.frame.DataFrame'>
DatetimeIndex: 510070 entries, 2015-09-16 03:51:00 to 2016-05-03 20:55:00
Data columns (total 21 columns):
ID                      510070 non-null int64
Case Number             510070 non-null object
Block                   510070 non-null object
IUCR                    510070 non-null object
Primary Type            510070 non-null object
Description             510070 non-null object
Location Description    510070 non-null object
Arrest                  510070 non-null bool
Domestic                510070 non-null bool
Beat                    510070 non-null int64
District                510070 non-null int64
Ward                    510070 non-null float64
Community Area          510070 non-null int64
FBI Code                510070 non-null object
X Coordinate            510070 non-null float64
Y Coordinate            510070 non-null float64
Year                    510070 non-null int64
Updated On              510070 non-null object
Latitude                510070 non-null float64
Longitude               510070 non-null float64
Location                510070 non-null object
dtypes: bool(2), float64(5), int64(5), object(9)
memory usage: 78.8+ MB
None

Extract features...
<class 'pandas.core.frame.DataFrame'>
DatetimeIndex: 510070 entries, 2015-09-16 03:51:00 to 2016-05-03 20:55:00
Data columns (total 14 columns):
Primary Type            510070 non-null object
Location Description    510070 non-null object
Arrest                  510070 non-null bool
Domestic                510070 non-null bool
Beat                    510070 non-null int64
District                510070 non-null int64
Ward                    510070 non-null float64
Community Area          510070 non-null int64
Year                    510070 non-null int64
Latitude                510070 non-null float64
Longitude               510070 non-null float64
Hour                    510070 non-null int64
Weekday                 510070 non-null int64
Month                   510070 non-null int64
dtypes: bool(2), float64(3), int64(7), object(2)
memory usage: 51.6+ MB
None
Splitting data...
x_Training set has 61208 rows, 14 columns.
x_Test set has 40806 rows, 14 columns.
Start grid search for xgb...
{'gamma': [0.5, 0.6, 0.7, 0.8, 0.9, 1],
 'learning_rate': [0.1],
 'max_depth': [3, 4, 5],
 'n_estimators': [550, 600, 650],
 'subsample': [1, 0.95]}
Best parameters chosen is: {'n_estimators': 650, 'subsample': 1, 'learning_rate': 0.1, 'max_depth': 5, 'gamma': 1}
Best score is: -1.49650381345
Time used for searching is 222.690345263 min.
     mean_fit_time  mean_score_time  mean_test_score  mean_train_score  \
0        24.708419         0.719404        -1.501959         -1.404943   
1        28.241090         0.786550        -1.500405         -1.381297   
2        25.898294         0.763473        -1.501899         -1.401405   
3        30.453002         0.870179        -1.500515         -1.371907   
4        28.476601         0.799544        -1.501906         -1.398667   
5        33.152498         0.946362        -1.500873         -1.363171   
6        31.323695         0.854915        -1.499809         -1.312012   
7        35.002000         0.953645        -1.499063         -1.267466   
8        34.749277         0.876316        -1.500225         -1.304463   
9        40.862477         1.014451        -1.500396         -1.251920   
10       39.470853         0.936059        -1.500580         -1.298080   
11       44.569851         1.118879        -1.501770         -1.237219   
12       41.351358         0.944794        -1.504525         -1.199837   
13       45.972396         1.107461        -1.506112         -1.124091   
14       44.711440         0.956118        -1.504927         -1.194975   
15       49.646364         1.158612        -1.508553         -1.101967   
16       48.177556         0.988962        -1.505307         -1.190961   
17       53.973283         1.251456        -1.511009         -1.080938   
18       26.040270         0.668264        -1.502210         -1.411986   
19       29.746170         0.793359        -1.500219         -1.382318   
20       27.837183         0.739891        -1.501833         -1.408488   
21       32.565505         0.805685        -1.500271         -1.372969   
22       30.482215         0.674653        -1.501662         -1.405416   
23       35.008528         0.840686        -1.500454         -1.364182   
24       32.843836         0.677480        -1.498683         -1.327946   
25       37.280622         0.826127        -1.499404         -1.269122   
26       35.585132         0.731627        -1.498919         -1.320961   
27       40.519610         0.887665        -1.500550         -1.253905   
28       38.576840         0.785640        -1.499021         -1.316544   
29       45.795838         0.972176        -1.501693         -1.239422   
..             ...              ...              ...               ...   
78       33.449933         0.588181        -1.498015         -1.365804   
79       37.903097         0.820772        -1.498183         -1.276848   
80       35.678789         0.595533        -1.498015         -1.365804   
81       41.688641         0.908401        -1.499185         -1.262695   
82       39.240162         0.625721        -1.498015         -1.365804   
83       45.100663         0.968982        -1.500167         -1.249108   
84       40.921664         0.633640        -1.497523         -1.287610   
85       46.388520         0.963380        -1.502757         -1.143732   
86       44.899772         0.661523        -1.497523         -1.287610   
87       50.698672         1.033129        -1.504724         -1.124189   
88       47.763492         0.686390        -1.497523         -1.287610   
89       54.148446         1.121702        -1.506916         -1.105503   
90       26.085860         0.526777        -1.504571         -1.438870   
91       32.322084         0.719152        -1.499549         -1.386402   
92       28.317678         0.549882        -1.504569         -1.438633   
93       32.898503         0.779844        -1.499521         -1.378039   
94       30.891550         0.577473        -1.504569         -1.438633   
95       36.946518         0.842356        -1.499461         -1.370111   
96       34.065093         0.586409        -1.497543         -1.378117   
97       38.672821         0.849251        -1.497359         -1.280082   
98       36.899515         0.616563        -1.497571         -1.377486   
99       42.512224         0.911300        -1.498128         -1.266249   
100      39.562201         0.602505        -1.497570         -1.377486   
101      45.754304         0.965132        -1.499185         -1.253379   
102      41.533417         0.601199        -1.496504         -1.309671   
103      46.329647         0.963983        -1.502318         -1.151121   
104      44.209435         0.615606        -1.496504         -1.309671   
105      50.252951         1.061475        -1.504291         -1.132513   
106      48.189356         0.649146        -1.496504         -1.309671   
107      54.341099         1.135868        -1.506320         -1.115035   

    param_gamma param_learning_rate param_max_depth param_n_estimators  \
0           0.5                 0.1               3                550   
1           0.5                 0.1               3                550   
2           0.5                 0.1               3                600   
3           0.5                 0.1               3                600   
4           0.5                 0.1               3                650   
5           0.5                 0.1               3                650   
6           0.5                 0.1               4                550   
7           0.5                 0.1               4                550   
8           0.5                 0.1               4                600   
9           0.5                 0.1               4                600   
10          0.5                 0.1               4                650   
11          0.5                 0.1               4                650   
12          0.5                 0.1               5                550   
13          0.5                 0.1               5                550   
14          0.5                 0.1               5                600   
15          0.5                 0.1               5                600   
16          0.5                 0.1               5                650   
17          0.5                 0.1               5                650   
18          0.6                 0.1               3                550   
19          0.6                 0.1               3                550   
20          0.6                 0.1               3                600   
21          0.6                 0.1               3                600   
22          0.6                 0.1               3                650   
23          0.6                 0.1               3                650   
24          0.6                 0.1               4                550   
25          0.6                 0.1               4                550   
26          0.6                 0.1               4                600   
27          0.6                 0.1               4                600   
28          0.6                 0.1               4                650   
29          0.6                 0.1               4                650   
..          ...                 ...             ...                ...   
78          0.9                 0.1               4                550   
79          0.9                 0.1               4                550   
80          0.9                 0.1               4                600   
81          0.9                 0.1               4                600   
82          0.9                 0.1               4                650   
83          0.9                 0.1               4                650   
84          0.9                 0.1               5                550   
85          0.9                 0.1               5                550   
86          0.9                 0.1               5                600   
87          0.9                 0.1               5                600   
88          0.9                 0.1               5                650   
89          0.9                 0.1               5                650   
90            1                 0.1               3                550   
91            1                 0.1               3                550   
92            1                 0.1               3                600   
93            1                 0.1               3                600   
94            1                 0.1               3                650   
95            1                 0.1               3                650   
96            1                 0.1               4                550   
97            1                 0.1               4                550   
98            1                 0.1               4                600   
99            1                 0.1               4                600   
100           1                 0.1               4                650   
101           1                 0.1               4                650   
102           1                 0.1               5                550   
103           1                 0.1               5                550   
104           1                 0.1               5                600   
105           1                 0.1               5                600   
106           1                 0.1               5                650   
107           1                 0.1               5                650   

    param_subsample                                             params  \
0                 1  {u'n_estimators': 550, u'subsample': 1, u'lear...   
1              0.95  {u'n_estimators': 550, u'subsample': 0.95, u'l...   
2                 1  {u'n_estimators': 600, u'subsample': 1, u'lear...   
3              0.95  {u'n_estimators': 600, u'subsample': 0.95, u'l...   
4                 1  {u'n_estimators': 650, u'subsample': 1, u'lear...   
5              0.95  {u'n_estimators': 650, u'subsample': 0.95, u'l...   
6                 1  {u'n_estimators': 550, u'subsample': 1, u'lear...   
7              0.95  {u'n_estimators': 550, u'subsample': 0.95, u'l...   
8                 1  {u'n_estimators': 600, u'subsample': 1, u'lear...   
9              0.95  {u'n_estimators': 600, u'subsample': 0.95, u'l...   
10                1  {u'n_estimators': 650, u'subsample': 1, u'lear...   
11             0.95  {u'n_estimators': 650, u'subsample': 0.95, u'l...   
12                1  {u'n_estimators': 550, u'subsample': 1, u'lear...   
13             0.95  {u'n_estimators': 550, u'subsample': 0.95, u'l...   
14                1  {u'n_estimators': 600, u'subsample': 1, u'lear...   
15             0.95  {u'n_estimators': 600, u'subsample': 0.95, u'l...   
16                1  {u'n_estimators': 650, u'subsample': 1, u'lear...   
17             0.95  {u'n_estimators': 650, u'subsample': 0.95, u'l...   
18                1  {u'n_estimators': 550, u'subsample': 1, u'lear...   
19             0.95  {u'n_estimators': 550, u'subsample': 0.95, u'l...   
20                1  {u'n_estimators': 600, u'subsample': 1, u'lear...   
21             0.95  {u'n_estimators': 600, u'subsample': 0.95, u'l...   
22                1  {u'n_estimators': 650, u'subsample': 1, u'lear...   
23             0.95  {u'n_estimators': 650, u'subsample': 0.95, u'l...   
24                1  {u'n_estimators': 550, u'subsample': 1, u'lear...   
25             0.95  {u'n_estimators': 550, u'subsample': 0.95, u'l...   
26                1  {u'n_estimators': 600, u'subsample': 1, u'lear...   
27             0.95  {u'n_estimators': 600, u'subsample': 0.95, u'l...   
28                1  {u'n_estimators': 650, u'subsample': 1, u'lear...   
29             0.95  {u'n_estimators': 650, u'subsample': 0.95, u'l...   
..              ...                                                ...   
78                1  {u'n_estimators': 550, u'subsample': 1, u'lear...   
79             0.95  {u'n_estimators': 550, u'subsample': 0.95, u'l...   
80                1  {u'n_estimators': 600, u'subsample': 1, u'lear...   
81             0.95  {u'n_estimators': 600, u'subsample': 0.95, u'l...   
82                1  {u'n_estimators': 650, u'subsample': 1, u'lear...   
83             0.95  {u'n_estimators': 650, u'subsample': 0.95, u'l...   
84                1  {u'n_estimators': 550, u'subsample': 1, u'lear...   
85             0.95  {u'n_estimators': 550, u'subsample': 0.95, u'l...   
86                1  {u'n_estimators': 600, u'subsample': 1, u'lear...   
87             0.95  {u'n_estimators': 600, u'subsample': 0.95, u'l...   
88                1  {u'n_estimators': 650, u'subsample': 1, u'lear...   
89             0.95  {u'n_estimators': 650, u'subsample': 0.95, u'l...   
90                1  {u'n_estimators': 550, u'subsample': 1, u'lear...   
91             0.95  {u'n_estimators': 550, u'subsample': 0.95, u'l...   
92                1  {u'n_estimators': 600, u'subsample': 1, u'lear...   
93             0.95  {u'n_estimators': 600, u'subsample': 0.95, u'l...   
94                1  {u'n_estimators': 650, u'subsample': 1, u'lear...   
95             0.95  {u'n_estimators': 650, u'subsample': 0.95, u'l...   
96                1  {u'n_estimators': 550, u'subsample': 1, u'lear...   
97             0.95  {u'n_estimators': 550, u'subsample': 0.95, u'l...   
98                1  {u'n_estimators': 600, u'subsample': 1, u'lear...   
99             0.95  {u'n_estimators': 600, u'subsample': 0.95, u'l...   
100               1  {u'n_estimators': 650, u'subsample': 1, u'lear...   
101            0.95  {u'n_estimators': 650, u'subsample': 0.95, u'l...   
102               1  {u'n_estimators': 550, u'subsample': 1, u'lear...   
103            0.95  {u'n_estimators': 550, u'subsample': 0.95, u'l...   
104               1  {u'n_estimators': 600, u'subsample': 1, u'lear...   
105            0.95  {u'n_estimators': 600, u'subsample': 0.95, u'l...   
106               1  {u'n_estimators': 650, u'subsample': 1, u'lear...   
107            0.95  {u'n_estimators': 650, u'subsample': 0.95, u'l...   

          ...         split0_test_score  split0_train_score  \
0         ...                 -1.495419           -1.411624   
1         ...                 -1.493891           -1.386728   
2         ...                 -1.495036           -1.407774   
3         ...                 -1.493585           -1.377368   
4         ...                 -1.494978           -1.404031   
5         ...                 -1.493827           -1.368580   
6         ...                 -1.492248           -1.312804   
7         ...                 -1.491244           -1.271221   
8         ...                 -1.492742           -1.305968   
9         ...                 -1.492310           -1.255565   
10        ...                 -1.492866           -1.300867   
11        ...                 -1.493159           -1.241205   
12        ...                 -1.497189           -1.195388   
13        ...                 -1.497523           -1.128040   
14        ...                 -1.498028           -1.186304   
15        ...                 -1.499799           -1.105318   
16        ...                 -1.498623           -1.179225   
17        ...                 -1.501950           -1.083837   
18        ...                 -1.495707           -1.414769   
19        ...                 -1.493371           -1.387147   
20        ...                 -1.494981           -1.409873   
21        ...                 -1.493202           -1.377804   
22        ...                 -1.494673           -1.404471   
23        ...                 -1.493181           -1.369065   
24        ...                 -1.491275           -1.323960   
25        ...                 -1.491814           -1.273386   
26        ...                 -1.491658           -1.314333   
27        ...                 -1.492836           -1.258113   
28        ...                 -1.491684           -1.308700   
29        ...                 -1.493423           -1.243902   
..        ...                       ...                 ...   
78        ...                 -1.491403           -1.370333   
79        ...                 -1.490324           -1.280043   
80        ...                 -1.491403           -1.370333   
81        ...                 -1.490935           -1.265662   
82        ...                 -1.491403           -1.370333   
83        ...                 -1.491846           -1.252108   
84        ...                 -1.488734           -1.297254   
85        ...                 -1.494594           -1.146344   
86        ...                 -1.488734           -1.297254   
87        ...                 -1.496599           -1.125779   
88        ...                 -1.488734           -1.297254   
89        ...                 -1.498550           -1.106648   
90        ...                 -1.498481           -1.445972   
91        ...                 -1.493011           -1.391066   
92        ...                 -1.498481           -1.445972   
93        ...                 -1.492701           -1.382626   
94        ...                 -1.498481           -1.445972   
95        ...                 -1.492614           -1.374777   
96        ...                 -1.490948           -1.385606   
97        ...                 -1.490303           -1.283652   
98        ...                 -1.490948           -1.385606   
99        ...                 -1.491033           -1.269519   
100       ...                 -1.490948           -1.385606   
101       ...                 -1.491643           -1.256724   
102       ...                 -1.488432           -1.316499   
103       ...                 -1.494361           -1.152730   
104       ...                 -1.488432           -1.316499   
105       ...                 -1.496136           -1.133559   
106       ...                 -1.488432           -1.316499   
107       ...                 -1.497875           -1.116294   

     split1_test_score  split1_train_score  split2_test_score  \
0            -1.502834           -1.406115          -1.507624   
1            -1.500511           -1.381159          -1.506814   
2            -1.502822           -1.403921          -1.507841   
3            -1.500974           -1.371623          -1.506986   
4            -1.502906           -1.402999          -1.507835   
5            -1.501619           -1.363210          -1.507174   
6            -1.499847           -1.314384          -1.507332   
7            -1.498889           -1.269697          -1.507057   
8            -1.500235           -1.306817          -1.507699   
9            -1.500340           -1.254077          -1.508538   
10           -1.500791           -1.300141          -1.508085   
11           -1.502070           -1.239565          -1.510080   
12           -1.503318           -1.210215          -1.513066   
13           -1.505145           -1.127430          -1.515670   
14           -1.503318           -1.210215          -1.513436   
15           -1.507664           -1.104938          -1.518198   
16           -1.503318           -1.210215          -1.513980   
17           -1.510279           -1.084468          -1.520797   
18           -1.503609           -1.410866          -1.507315   
19           -1.500704           -1.382777          -1.506583   
20           -1.503467           -1.407973          -1.507051   
21           -1.500941           -1.373493          -1.506670   
22           -1.503399           -1.406363          -1.506916   
23           -1.501344           -1.364921          -1.506836   
24           -1.498477           -1.332532          -1.506296   
25           -1.499029           -1.270047          -1.507369   
26           -1.498559           -1.325200          -1.506540   
27           -1.500123           -1.254667          -1.508692   
28           -1.498695           -1.319588          -1.506685   
29           -1.501507           -1.240333          -1.510150   
..                 ...                 ...                ...   
78           -1.498375           -1.364645          -1.504266   
79           -1.497833           -1.279541          -1.506391   
80           -1.498375           -1.364645          -1.504266   
81           -1.499065           -1.265407          -1.507556   
82           -1.498375           -1.364645          -1.504266   
83           -1.499856           -1.252226          -1.508799   
84           -1.498079           -1.284853          -1.505756   
85           -1.501860           -1.148168          -1.511818   
86           -1.498079           -1.284853          -1.505755   
87           -1.503602           -1.129111          -1.513972   
88           -1.498079           -1.284853          -1.505755   
89           -1.505505           -1.110976          -1.516693   
90           -1.505066           -1.434372          -1.510167   
91           -1.499206           -1.386358          -1.506431   
92           -1.505059           -1.433659          -1.510167   
93           -1.499637           -1.378031          -1.506224   
94           -1.505058           -1.433659          -1.510167   
95           -1.499800           -1.370465          -1.505969   
96           -1.497471           -1.370947          -1.504209   
97           -1.496364           -1.281962          -1.505410   
98           -1.497556           -1.369054          -1.504209   
99           -1.497258           -1.268383          -1.506091   
100          -1.497555           -1.369054          -1.504209   
101          -1.498352           -1.256066          -1.507561   
102          -1.496416           -1.296252          -1.504663   
103          -1.501467           -1.155094          -1.511126   
104          -1.496416           -1.296252          -1.504663   
105          -1.503424           -1.136786          -1.513313   
106          -1.496416           -1.296252          -1.504663   
107          -1.505458           -1.119540          -1.515626   

     split2_train_score  std_fit_time  std_score_time  std_test_score  \
0             -1.397088      0.601054        0.019757        0.005021   
1             -1.376004      0.314758        0.012380        0.005276   
2             -1.392520      0.262529        0.023154        0.005268   
3             -1.366728      0.216935        0.013064        0.005480   
4             -1.388970      0.265219        0.016510        0.005296   
5             -1.357723      0.125899        0.007585        0.005474   
6             -1.308849      0.084812        0.033603        0.006158   
7             -1.261482      0.068985        0.016630        0.006457   
8             -1.300603      0.863808        0.025474        0.006106   
9             -1.246117      0.224425        0.037586        0.006625   
10            -1.293232      0.134041        0.028038        0.006215   
11            -1.230887      0.310363        0.008841        0.006911   
12            -1.193910      0.269554        0.039971        0.006538   
13            -1.116802      0.373788        0.009010        0.007440   
14            -1.188408      0.188664        0.054584        0.006393   
15            -1.095647      0.645060        0.009908        0.007538   
16            -1.183443      0.413007        0.057221        0.006425   
17            -1.074508      0.021689        0.016903        0.007712   
18            -1.410325      0.557124        0.013522        0.004841   
19            -1.377031      0.234482        0.009578        0.005405   
20            -1.407618      0.090473        0.024563        0.005061   
21            -1.367609      0.093238        0.042431        0.005518   
22            -1.405414      0.402136        0.025443        0.005147   
23            -1.358561      0.139857        0.017396        0.005610   
24            -1.327347      0.233843        0.024885        0.006134   
25            -1.263933      0.121230        0.010261        0.006356   
26            -1.323349      0.191180        0.044395        0.006081   
27            -1.248936      0.271059        0.007529        0.006480   
28            -1.321344      0.125933        0.043809        0.006128   
29            -1.234030      1.566052        0.002560        0.006830   
..                  ...           ...             ...             ...   
78            -1.362435      0.524043        0.010041        0.005258   
79            -1.270960      0.862531        0.023655        0.006564   
80            -1.362435      0.361396        0.005427        0.005258   
81            -1.257015      0.402626        0.020976        0.006786   
82            -1.362435      0.610230        0.009045        0.005258   
83            -1.242990      0.104262        0.005227        0.006925   
84            -1.280724      0.164467        0.015897        0.006960   
85            -1.136684      0.327818        0.029002        0.007060   
86            -1.280724      0.389591        0.014948        0.006960   
87            -1.117678      1.626980        0.022988        0.007137   
88            -1.280724      0.367269        0.007834        0.006960   
89            -1.098885      0.407278        0.020932        0.007474   
90            -1.436268      0.615617        0.020660        0.004784   
91            -1.381781      3.034094        0.025262        0.005484   
92            -1.436268      0.346711        0.019455        0.004784   
93            -1.373461      0.457322        0.012476        0.005521   
94            -1.436268      0.825998        0.011746        0.004784   
95            -1.365090      0.876958        0.018239        0.005458   
96            -1.377798      0.319793        0.020733        0.005414   
97            -1.274632      0.053506        0.013855        0.006207   
98            -1.377798      0.218198        0.014351        0.005414   
99            -1.260844      0.581167        0.003740        0.006178   
100           -1.377798      0.186921        0.006985        0.005414   
101           -1.247347      0.456346        0.009218        0.006525   
102           -1.316262      0.458225        0.033370        0.006626   
103           -1.145541      0.097442        0.027644        0.006871   
104           -1.316262      0.678344        0.026628        0.006626   
105           -1.127194      0.615282        0.024421        0.007039   
106           -1.316262      0.922931        0.029913        0.006626   
107           -1.109271      0.278218        0.005890        0.007272   

     std_train_score  
0           0.005992  
1           0.004379  
2           0.006477  
3           0.004349  
4           0.006870  
5           0.004432  
6           0.002328  
7           0.004277  
8           0.002751  
9           0.004148  
10          0.003441  
11          0.004527  
12          0.007363  
13          0.005160  
14          0.010810  
15          0.004472  
16          0.013723  
17          0.004554  
18          0.001980  
19          0.004143  
20          0.000990  
21          0.004178  
22          0.000772  
23          0.004320  
24          0.003525  
25          0.003914  
26          0.004747  
27          0.003785  
28          0.005592  
29          0.004082  
..               ...  
78          0.003327  
79          0.004168  
80          0.003327  
81          0.004018  
82          0.003327  
83          0.004326  
84          0.007024  
85          0.005039  
86          0.007024  
87          0.004801  
88          0.007024  
89          0.005002  
90          0.005081  
91          0.003791  
92          0.005298  
93          0.003742  
94          0.005298  
95          0.003963  
96          0.005989  
97          0.003915  
98          0.006761  
99          0.003850  
100         0.006761  
101         0.004274  
102         0.009489  
103         0.004062  
104         0.009489  
105         0.003985  
106         0.009489  
107         0.004286  

[108 rows x 21 columns]
accuracy: 0.427584
Time used: 1155.32409433.
